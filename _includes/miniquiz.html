<div class="miniquiz">
    <div>
        <p style="font-size: 12px">Self Check</p>
        <p> {{ include.question }} </p>
    </div>
    <div id="answer-buttons">
        <table class="quiz-table">
            <tr>
    <td>
    <div>
        <button class="quiz-buttons" id="miniquiz_button_0_{{ include.id | jsonify }}" onclick="setSelected_{{ include.id | jsonify }}(0)"> {{ include.opt0 }} </button>
    </div>
    </td>
    <td>
    <div>
        <button class="quiz-buttons" id="miniquiz_button_1_{{ include.id | jsonify }}" onclick="setSelected_{{ include.id | jsonify }}(1)"> {{ include.opt1 }} </button>
    </div>
    </td>
    </tr>
    <tr>
    <td>
    <div>
        <button class="quiz-buttons" id="miniquiz_button_2_{{ include.id | jsonify }}" onclick="setSelected_{{ include.id | jsonify }}(2)"> {{ include.opt2 }} </button>
    </div>
    </td>
    <td>
    <div>
        <button class="quiz-buttons"    id="miniquiz_button_3_{{ include.id | jsonify }}" onclick="setSelected_{{ include.id | jsonify }}(3)"> {{ include.opt3 }} </button>
    </div>
    </td>
    </tr>
    </table>
    </div>
    <p id="response_{{ include.id }}"></p>


    <script>
        const correct_index_{{ include.id | jsonify }} = {{ include.correctIndex | jsonify }};
        const options_{{ include.id | jsonify }} = [
            {{ include.opt0 | jsonify }},
            {{ include.opt1 | jsonify }},
            {{ include.opt2 | jsonify }},
            {{ include.opt3 | jsonify }}
        ];
        const responses_{{ include.id | jsonify }} = [
            {{ include.response0 | jsonify }},
            {{ include.response1 | jsonify }},
            {{ include.response2 | jsonify }},
            {{ include.response3 | jsonify }}
        ];

        for (i in responses_{{ include.id | jsonify }}) {
            console.log("{{ include.id | jsonify }}: " + responses_{{ include.id | jsonify }}[i])
        }
        function setSelected_{{ include.id | jsonify }}(num) {
            const button_id = "miniquiz_button_" + num + "_{{ include.id | jsonify }}";
            if (num == correct_index_{{ include.id | jsonify }}) {
                document.getElementById(button_id).style.backgroundColor = "green";
            } else {
                document.getElementById(button_id).style.backgroundColor = "red";
            }
            document.getElementById("response_" + {{ include.id | jsonify }}).innerHTML = responses_{{ include.id | jsonify }}[num];
        }
    </script>
</div>
